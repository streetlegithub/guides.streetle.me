/* layout.css: hero, navigation, page structure */

/* ── Hero section ── */
.hero {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  padding: clamp(4rem, 12vh, 8rem) 1.5rem clamp(2.5rem, 6vh, 4rem);
  text-align: center;
  position: relative;
}

.hero-title {
  font-family: var(--font-sans);
  font-weight: 700;
  font-size: clamp(2.8rem, 8vw, 5.5rem);
  line-height: 1.3; /* ensure descenders (g, y, etc.) have room */
  letter-spacing: -2.5px;
  background: var(--color-accent);
  -webkit-background-clip: text;
  background-clip: text;
  color: transparent;
  filter: drop-shadow(0 8px 24px rgba(99, 102, 241, .2));
  user-select: none;
  /* Animation */
  opacity: 0;
  transform: translateY(24px) scale(.96);
  animation: heroIn .6s var(--ease-out) .1s forwards;
}

.hero-subtitle {
  margin-top: 1rem;
  font-family: var(--font-mono);
  font-size: clamp(.8rem, 1.6vw, .95rem);
  letter-spacing: .08em;
  color: var(--color-text-dim);
  /* Animation */
  opacity: 0;
  transform: translateY(12px);
  animation: fadeUp .5s var(--ease-out) .3s forwards;
}

@keyframes heroIn {
  to {
    opacity: 1;
    transform: translateY(0) scale(1);
  }
}

@keyframes fadeUp {
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

/* ── Back to main site link ── */
.back-link {
  position: fixed;
  top: clamp(.8rem, 2vh, 1.4rem);
  left: clamp(.8rem, 2vw, 1.4rem);
  display: inline-flex;
  align-items: center;
  gap: .4rem;
  font-family: var(--font-mono);
  font-size: .72rem;
  letter-spacing: .08em;
  color: var(--color-text-dim);
  background: rgba(31, 36, 44, .55);
  border: 1px solid var(--color-border);
  border-radius: 8px;
  padding: .4rem .7rem;
  backdrop-filter: blur(12px) saturate(140%);
  -webkit-backdrop-filter: blur(12px) saturate(140%);
  box-shadow: var(--shadow-sm);
  transition: color var(--transition-fast), background var(--transition-fast), border-color var(--transition-fast);
  z-index: 50;
  min-height: 36px;
  /* Animation */
  opacity: 0;
  animation: fadeUp .4s var(--ease-out) .5s forwards;
}

.back-link:hover,
.back-link:focus-visible {
  color: var(--color-text);
  background: rgba(45, 57, 69, .65);
  border-color: #3a4452;
}

.back-link svg {
  width: 14px;
  height: 14px;
  flex-shrink: 0;
  transition: transform var(--transition-fast);
}

.back-link:hover svg {
  transform: translateX(-2px);
}

/* ── Main content area ── */
.site-main {
  width: min(1100px, 100% - 2rem);
  margin-inline: auto;
  padding-bottom: clamp(3rem, 8vh, 5rem);
}

/* ── Section headers ── */
.section-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 1rem;
  margin-bottom: 1.5rem;
  flex-wrap: wrap;
}

.section-title {
  font-family: var(--font-sans);
  font-weight: 600;
  font-size: clamp(1.1rem, 2vw, 1.35rem);
  letter-spacing: -.5px;
  color: var(--color-text);
}

/* ── Filter / tag bar ── */
.filter-bar {
  display: flex;
  gap: .4rem;
  flex-wrap: wrap;
  /* Animation */
  opacity: 0;
  transform: translateY(10px);
  animation: fadeUp .45s var(--ease-out) .45s forwards;
}

.filter-btn {
  font-family: var(--font-mono);
  font-size: .72rem;
  letter-spacing: .06em;
  padding: .35rem .7rem;
  border-radius: 6px;
  border: 1px solid var(--color-border);
  background: rgba(31, 36, 44, .4);
  color: var(--color-text-dim);
  transition: all var(--transition-fast);
  white-space: nowrap;
}

.filter-btn:hover,
.filter-btn:focus-visible {
  color: var(--color-text);
  background: rgba(45, 57, 69, .5);
  border-color: #3a4452;
}

.filter-btn.active {
  background: rgba(99, 102, 241, .15);
  border-color: rgba(99, 102, 241, .35);
  color: #a5b4fc;
}

/* ── Guide cards grid ── */
.guides-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(min(100%, 320px), 1fr));
  gap: 1rem;
}

.guide-card {
  position: relative;
  background: linear-gradient(180deg, rgba(31, 36, 44, .5), rgba(22, 26, 32, .5));
  border: 1px solid var(--color-border);
  border-radius: var(--radius-lg);
  padding: 1.25rem 1.35rem;
  display: flex;
  flex-direction: column;
  gap: .65rem;
  transition: transform var(--transition-fast), border-color var(--transition-fast), box-shadow var(--transition-fast);
  cursor: pointer;
  overflow: hidden;
  /* Animation - stagger via JS */
  opacity: 0;
  transform: translateY(16px);
}

.guide-card.visible {
  animation: cardIn .4s var(--ease-out) forwards;
}

@keyframes cardIn {
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.guide-card::before {
  /* Subtle top-edge gradient line */
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  height: 1px;
  background: var(--color-accent);
  opacity: 0;
  transition: opacity var(--transition-fast);
}

.guide-card:hover {
  transform: translateY(-3px);
  border-color: rgba(99, 102, 241, .25);
  box-shadow: 0 8px 32px -8px rgba(99, 102, 241, .12), var(--shadow-md);
}

.guide-card:hover::before {
  opacity: .6;
}

.guide-card__tag {
  display: inline-flex;
  align-items: center;
  gap: .3rem;
  font-family: var(--font-mono);
  font-size: .65rem;
  letter-spacing: .1em;
  text-transform: uppercase;
  color: #a5b4fc;
  width: fit-content;
}

.guide-card__tag-dot {
  width: 6px;
  height: 6px;
  border-radius: 50%;
  background: var(--color-accent-solid);
  flex-shrink: 0;
}

.guide-card__title {
  font-family: var(--font-sans);
  font-weight: 600;
  font-size: clamp(1rem, 1.8vw, 1.15rem);
  letter-spacing: -.3px;
  line-height: 1.3;
  color: var(--color-text);
}

.guide-card__desc {
  font-size: .875rem;
  line-height: 1.55;
  color: var(--color-text-dim);
  display: -webkit-box;
  -webkit-line-clamp: 3;
  line-clamp: 3;
  -webkit-box-orient: vertical;
  overflow: hidden;
}

.guide-card__meta {
  display: flex;
  align-items: center;
  gap: .8rem;
  margin-top: auto;
  padding-top: .5rem;
  border-top: 1px solid rgba(255, 255, 255, .04);
  font-family: var(--font-mono);
  font-size: .65rem;
  letter-spacing: .06em;
  color: var(--color-text-dim);
}

.guide-card__meta-item {
  display: inline-flex;
  align-items: center;
  gap: .3rem;
}

.guide-card__meta-item svg {
  width: 13px;
  height: 13px;
  opacity: .6;
}

/* ── Empty state ── */
.empty-state {
  text-align: center;
  padding: 3rem 1rem;
  color: var(--color-text-dim);
  font-family: var(--font-mono);
  font-size: .85rem;
  letter-spacing: .04em;
}

/* ── Footer ── */
.site-footer {
  text-align: center;
  padding: 2rem 1rem 2.5rem;
  font-family: var(--font-mono);
  font-size: .65rem;
  letter-spacing: .1em;
  color: var(--color-text-dim);
  opacity: .5;
}

.site-footer a {
  color: var(--color-text-dim);
  text-decoration: underline dotted rgba(255, 255, 255, .15);
  text-underline-offset: 3px;
  transition: color var(--transition-fast);
}

.site-footer a:hover {
  color: var(--color-text);
}

/* ── Responsive ── */
@media (max-width: 640px) {
  .hero {
    padding: clamp(3rem, 8vh, 5rem) 1rem clamp(2rem, 5vh, 3rem);
  }

  .hero-title {
    letter-spacing: -1.5px;
  }

  .site-main {
    width: calc(100% - 1.5rem);
  }

  .guides-grid {
    grid-template-columns: 1fr;
  }

  .section-header {
    flex-direction: column;
    align-items: flex-start;
    gap: .75rem;
  }
}

/* ═══════════════════════════════════════════════════════
   GUIDE ARTICLE PAGE STYLES
   ═══════════════════════════════════════════════════════ */

/* ── Guide page hero (smaller, left-aligned) ── */
.guide-hero {
  max-width: 820px;
  margin: 0 auto;
  padding: clamp(5rem, 10vh, 7rem) 1.5rem clamp(1.5rem, 3vh, 2.5rem);
}

.guide-hero__tag {
  display: inline-flex;
  align-items: center;
  gap: .35rem;
  font-family: var(--font-mono);
  font-size: .68rem;
  letter-spacing: .1em;
  text-transform: uppercase;
  color: #a5b4fc;
  margin-bottom: .75rem;
  /* Animation */
  opacity: 0;
  transform: translateY(10px);
  animation: fadeUp .4s var(--ease-out) .15s forwards;
}

.guide-hero__tag-dot {
  width: 6px;
  height: 6px;
  border-radius: 50%;
  background: var(--color-accent-solid);
}

.guide-hero__title {
  font-family: var(--font-sans);
  font-weight: 700;
  font-size: clamp(1.8rem, 5vw, 2.8rem);
  line-height: 1.1;
  letter-spacing: -1.5px;
  color: var(--color-text);
  margin-bottom: .75rem;
  /* Animation */
  opacity: 0;
  transform: translateY(16px);
  animation: fadeUp .5s var(--ease-out) .2s forwards;
}

.guide-hero__meta {
  display: flex;
  align-items: center;
  gap: 1rem;
  flex-wrap: wrap;
  font-family: var(--font-mono);
  font-size: .68rem;
  letter-spacing: .06em;
  color: var(--color-text-dim);
  /* Animation */
  opacity: 0;
  transform: translateY(10px);
  animation: fadeUp .4s var(--ease-out) .35s forwards;
}

.guide-hero__meta-item {
  display: inline-flex;
  align-items: center;
  gap: .3rem;
}

.guide-hero__meta-item svg {
  width: 14px;
  height: 14px;
  opacity: .55;
}

/* ── Guide article body ── */
.guide-article {
  max-width: 820px;
  margin: 0 auto;
  padding: 0 1.5rem clamp(3rem, 8vh, 5rem);
  /* Animation */
  opacity: 0;
  transform: translateY(14px);
  animation: fadeUp .5s var(--ease-out) .4s forwards;
}

.guide-article h2 {
  font-family: var(--font-sans);
  font-weight: 650;
  font-size: clamp(1.25rem, 2.5vw, 1.65rem);
  letter-spacing: -.5px;
  color: var(--color-text);
  margin: 2.5rem 0 .75rem;
  padding-top: 1rem;
  border-top: 1px solid rgba(255, 255, 255, .04);
}

.guide-article h2:first-child {
  margin-top: 0;
  padding-top: 0;
  border-top: none;
}

.guide-article h3 {
  font-family: var(--font-sans);
  font-weight: 600;
  font-size: clamp(1.05rem, 2vw, 1.2rem);
  letter-spacing: -.3px;
  color: var(--color-text);
  margin: 1.75rem 0 .5rem;
}

.guide-article p {
  font-size: .94rem;
  line-height: 1.7;
  color: var(--color-text-dim);
  margin-bottom: 1rem;
}

.guide-article a {
  color: #a5b4fc;
  text-decoration: underline dotted rgba(165, 180, 252, .3);
  text-underline-offset: 3px;
  transition: color var(--transition-fast);
}

.guide-article a:hover {
  color: #c4b5fd;
}

.guide-article ul,
.guide-article ol {
  margin: .5rem 0 1rem 1.5rem;
  list-style: disc;
  color: var(--color-text-dim);
}

.guide-article ol {
  list-style: decimal;
}

.guide-article li {
  font-size: .94rem;
  line-height: 1.7;
  margin-bottom: .35rem;
}

/* ── Media figure (images, videos) ── */
.guide-figure {
  margin: 1.5rem 0;
  border-radius: var(--radius-md);
  overflow: hidden;
  border: 1px solid var(--color-border);
  background: var(--color-bg-alt);
}

.guide-figure img,
.guide-figure video {
  width: 100%;
  display: block;
}

.guide-figure__caption {
  padding: .6rem .85rem;
  font-family: var(--font-mono);
  font-size: .7rem;
  letter-spacing: .04em;
  color: var(--color-text-dim);
  border-top: 1px solid var(--color-border);
  background: rgba(31, 36, 44, .3);
}

/* ── Code / inline code ── */
.guide-article code {
  font-family: var(--font-mono);
  font-size: .82rem;
  background: rgba(31, 36, 44, .7);
  border: 1px solid rgba(255, 255, 255, .04);
  padding: .15rem .4rem;
  border-radius: 5px;
  color: #c4b5fd;
}

.guide-article pre {
  margin: 1rem 0 1.25rem;
  padding: 1rem 1.15rem;
  background: rgba(22, 26, 32, .8);
  border: 1px solid var(--color-border);
  border-radius: var(--radius-md);
  overflow-x: auto;
  -webkit-overflow-scrolling: touch;
}

.guide-article pre code {
  background: none;
  border: none;
  padding: 0;
  font-size: .8rem;
  line-height: 1.6;
  color: var(--color-text);
}

/* ── Callout / info box ── */
.guide-callout {
  margin: 1.25rem 0;
  padding: .85rem 1rem;
  border-radius: var(--radius-md);
  background: rgba(99, 102, 241, .06);
  border: 1px solid rgba(99, 102, 241, .15);
  font-size: .88rem;
  line-height: 1.6;
  color: var(--color-text-dim);
}

.guide-callout strong {
  color: #a5b4fc;
  font-weight: 600;
}

/* ── Step blocks ── */
.guide-step {
  display: flex;
  gap: 1rem;
  margin: 1.25rem 0;
}

.guide-step__number {
  flex-shrink: 0;
  width: 32px;
  height: 32px;
  display: flex;
  align-items: center;
  justify-content: center;
  border-radius: 50%;
  background: rgba(99, 102, 241, .12);
  border: 1px solid rgba(99, 102, 241, .25);
  font-family: var(--font-mono);
  font-size: .75rem;
  font-weight: 600;
  color: #a5b4fc;
  margin-top: .15rem;
}

.guide-step__content {
  flex: 1;
  min-width: 0;
}

.guide-step__content p {
  margin-bottom: .5rem;
}

/* ── Bottom nav (prev / next guide) ── */
.guide-nav {
  max-width: 820px;
  margin: 0 auto;
  padding: 0 1.5rem 2rem;
  display: flex;
  gap: 1rem;
  justify-content: space-between;
}

.guide-nav__link {
  display: flex;
  flex-direction: column;
  gap: .25rem;
  padding: .85rem 1rem;
  border: 1px solid var(--color-border);
  border-radius: var(--radius-md);
  background: rgba(31, 36, 44, .35);
  flex: 1;
  min-width: 0;
  transition: border-color var(--transition-fast), background var(--transition-fast);
}

.guide-nav__link:hover {
  border-color: rgba(99, 102, 241, .3);
  background: rgba(31, 36, 44, .55);
}

.guide-nav__link--next {
  text-align: right;
  align-items: flex-end;
}

.guide-nav__label {
  font-family: var(--font-mono);
  font-size: .62rem;
  letter-spacing: .1em;
  text-transform: uppercase;
  color: var(--color-text-dim);
}

.guide-nav__title {
  font-family: var(--font-sans);
  font-weight: 600;
  font-size: .9rem;
  color: var(--color-text);
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

@media (max-width: 640px) {
  .guide-hero,
  .guide-article,
  .guide-nav {
    padding-left: 1rem;
    padding-right: 1rem;
  }

  .guide-nav {
    flex-direction: column;
  }

  .guide-nav__link--next {
    text-align: left;
    align-items: flex-start;
  }

  .guide-step {
    gap: .75rem;
  }
}
